(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{209:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var o=n(13),s=window.matchMedia("(min-width: ".concat(o.b.globalNav__breakpoint_min,")"));function i(){return!s.matches}function a(e){s.addListener(e)}},318:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var o=n(5),s=n(7),i=n(4),a=n(9),c=n(3),u=n(209),d=function(){function e(t){var n=this;Object(o.a)(this,e),Object(i.a)(this,"focusOffMenu",(function(e){e.target===n.menuControl||n.menu.contains(e.target)||n.closeMenu(!0,!1)})),Object(i.a)(this,"handleEscapeKeydown",(function(e){Object(a.b)(e).is(a.a.Escape)&&(e.preventDefault(),n.closeMenu(!0,!0))})),document.documentElement.classList.add("has-ch-subnav"),this.hostNode=t,this.menuControl=this.hostNode.querySelector(".chSubnav__button"),this.menu=this.hostNode.querySelector(".chSubnav__menu"),this.globalNavBar=document.querySelector(".globalNav__logo"),this.lastScroll=0,this.pageHeader=document.querySelector("header.globalNav"),this.menuControl.addEventListener("click",(function(){n.menuControl.setAttribute("aria-expanded","true"===n.menuControl.getAttribute("aria-expanded")?"false":"true"),"true"===n.menuControl.getAttribute("aria-expanded")?n.openMenu():n.closeMenu(!1,!0)})),this.menuControl.addEventListener("focusin",(function(){document.documentElement.classList.add("ch-subnav-focused"),document.addEventListener("focusin",n.focusOffMenu)}));var s=Object(c.c)((function(){n.adjustMenuHeight()}),50);window.addEventListener("resize",s),window.addEventListener("orientationchange",s);var u=Object(c.c)((function(){n.showAndHideNav()}),50);window.addEventListener("scroll",u),window.addEventListener("orientationchange",u)}return Object(s.a)(e,[{key:"adjustMenuHeight",value:function(){if(this.pageHeader){var e=this.pageHeader.classList.contains("langBanner-is-open")?this.pageHeader.offsetHeight:this.globalNavBar.offsetHeight;this.menu.style.setProperty("max-height","".concat(Math.floor(window.innerHeight-e-this.hostNode.offsetHeight)-1,"px"))}}},{key:"showAndHideNav",value:function(){var e=window.pageYOffset,t=Object(u.a)()?250:400;e<=0?document.documentElement.classList.remove("hide-ch-nav"):e>t&&(e>this.lastScroll&&!document.documentElement.classList.contains("hide-ch-nav")?document.documentElement.classList.add("hide-ch-nav"):e<this.lastScroll&&document.documentElement.classList.contains("hide-ch-nav")&&document.documentElement.classList.remove("hide-ch-nav"),this.lastScroll=e)}},{key:"openMenu",value:function(){this.adjustMenuHeight(),this.menu.classList.add("is-expanded"),this.menu.focus({preventScroll:!0}),document.documentElement.classList.add("ch-subnav-focused"),document.addEventListener("keydown",this.handleEscapeKeydown),document.addEventListener("click",this.focusOffMenu)}},{key:"closeMenu",value:function(e,t){this.menu.classList.remove("is-expanded"),document.removeEventListener("keydown",this.handleEscapeKeydown),document.removeEventListener("click",this.focusOffMenu),e&&this.menuControl.setAttribute("aria-expanded","false"),t?this.menuControl.focus():(document.documentElement.classList.remove("ch-subnav-focused"),document.removeEventListener("focusin",this.focusOffMenu))}}]),e}()}}]);